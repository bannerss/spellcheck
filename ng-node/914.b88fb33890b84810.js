"use strict";(self.webpackChunkng_node=self.webpackChunkng_node||[]).push([[914],{8914:(x,s,l)=>{l.r(s),l.d(s,{SpellcheckModule:()=>k});var u=l(6895),c=l(4006),d=l(8492),r=l(4650),h=l(529);let g=(()=>{class n{constructor(e){this.http=e,this.root=new p(null),e.get("/api/trie").subscribe(t=>{t&&t.data&&JSON.stringify(t.data)!==JSON.stringify({})&&(this.root=t.data)})}insert(e){let t=this.root;for(let o of e)void 0===t.children[o]&&(t.children[o]=new p(o)),t=t.children[o];t.isEndOfWord=!0,this.updateFile()}bulkInsert(e){e.forEach(t=>{this.insert(t)}),this.updateFile()}populateFromFile(){this.http.get("/api/trie/populateFromFile").subscribe(e=>{e&&e.data&&JSON.stringify(e.data)!==JSON.stringify({})&&(this.root=e.data)})}updateFile(){}search(e){let t=this.root;for(let o of e){if(void 0===t.children[o])return!1;t=t.children[o]}return t.isEndOfWord}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(h.eN))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class p{constructor(a){this.value="",this.isEndOfWord=!1,this.children={},this.value=a}populateTrieNode(a){this.value=a,this.isEndOfWord=!1,this.children={}}}const f=["spellcheckerrorsholder"],m=[{path:"",component:(()=>{class n{constructor(e){this.dictionaryManagerService=e,this.textValue="",this.nonWordsArray=[],this.doneTypingInterval=1e3}handleScroll(){}onTextAreaChange(e){clearTimeout(this.typingTimer),this.typingTimer=setTimeout(this.populateNonWordsArray.bind(this,e),this.doneTypingInterval)}populateNonWordsArray(e){let t=e;if(t){this.nonWordsArray=[];let o=t.split(/[\s,.]+/).filter(i=>i);for(let i=0;i<o.length;i++)this.nonWordsArray.includes(o[i])||this.dictionaryManagerService.search(o[i])||this.nonWordsArray.push(o[i]);t=t?t.replace(/\n$/g,"\n\n"):"",this.nonWordsArray.forEach(i=>{t=t.replace(new RegExp(i+"[(?!\\s)|(?!,)|(?!.)]|"+i+"$","g"),'<mark style="border-bottom: 1px solid red;background-color: transparent;" class="mark">$&</mark>')}),this.spellcheckerrorsholder.nativeElement.innerHTML=t}else this.spellcheckerrorsholder.nativeElement.innerHTML=""}applyHighlights(e){}createTrie(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(g))},n.\u0275cmp=r.Xpm({type:n,selectors:[["nxworspace-spellcheck"]],viewQuery:function(e,t){if(1&e&&r.Gf(f,5),2&e){let o;r.iGM(o=r.CRH())&&(t.spellcheckerrorsholder=o.first)}},inputs:{nonWordsArray:"nonWordsArray"},decls:11,vars:1,consts:[[1,"centered-content"],[1,"container"],[1,"backdrop"],["backdrop",""],[1,"highlights"],["spellcheckerrorsholder",""],[3,"ngModel","ngModelChange","scroll"],["textarea",""]],template:function(e,t){1&e&&(r.TgZ(0,"h1",0),r._uU(1,"spellcheck text area"),r.qZA(),r.TgZ(2,"h3",0),r._uU(3,"\u05ea\u05d5\u05de\u05da \u05d1\u05de\u05d9\u05dc\u05d9\u05dd \u05d4\u05de\u05ea\u05d7\u05d9\u05dc\u05d5\u05ea \u05d1\u05d0\u05d5\u05ea \u05d0"),r.qZA(),r.TgZ(4,"div",1)(5,"div",2,3),r._UZ(7,"div",4,5),r.qZA(),r.TgZ(9,"textarea",6,7),r.NdJ("ngModelChange",function(i){return t.onTextAreaChange(i)})("scroll",function(){return t.handleScroll()}),r.qZA()()),2&e&&(r.xp6(9),r.Q6J("ngModel",t.textValue))},dependencies:[c.Fj,c.JJ,c.On],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}.container[_ngcontent-%COMP%], .backdrop[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:460px;height:180px}.highlights[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px;font:20px/28px Open Sans,sans-serif;letter-spacing:1px}.container[_ngcontent-%COMP%]{display:block;margin:0 auto;transform:translateZ(0);-webkit-text-size-adjust:none}.backdrop[_ngcontent-%COMP%]{position:absolute;z-index:1;border:2px solid #685972;background-color:#fff;overflow:auto;pointer-events:none;transition:transform 1s}.highlights[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;color:transparent}textarea[_ngcontent-%COMP%]{display:block;position:absolute;z-index:2;margin:0;border:2px solid #74637f;border-radius:0;color:#444;background-color:transparent;overflow:auto;resize:none;transition:transform 1s}  .mark{border-radius:3px;color:transparent;-webkit-text-decoration:wavy;text-decoration:wavy;border-bottom:1px solid red;background-color:transparent}.perspective[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{transform:perspective(1500px) translate(155px) rotateY(45deg) scale(1.1)}textarea[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #c6aada}.centered-content[_ngcontent-%COMP%]{text-align:center}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[d.Bz.forChild(m),d.Bz]}),n})(),k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[u.ez,y,c.u5]}),n})()}}]);